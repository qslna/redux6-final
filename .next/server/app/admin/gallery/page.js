(()=>{var e={};e.id=831,e.ids=[831],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},74405:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=a(70260),s=a(28203),i=a(25155),l=a.n(i),n=a(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["admin",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,26260)),"/mnt/c/Users/t9140/OneDrive/바탕 화면/redux6-final/src/app/admin/gallery/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,71354)),"/mnt/c/Users/t9140/OneDrive/바탕 화면/redux6-final/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,75076)),"/mnt/c/Users/t9140/OneDrive/바탕 화면/redux6-final/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/mnt/c/Users/t9140/OneDrive/바탕 화면/redux6-final/src/app/admin/gallery/page.tsx"],h={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/gallery/page",pathname:"/admin/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},78813:(e,t,a)=>{Promise.resolve().then(a.bind(a,26260))},6429:(e,t,a)=>{Promise.resolve().then(a.bind(a,79337))},18741:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(41680).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},94520:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(41680).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},49656:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(41680).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},72744:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(41680).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},79337:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var r=a(45512),s=a(58009),i=a(55786);a(79334);var l=a(41680);let n=(0,l.A)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),o=(0,l.A)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var d=a(72744);let c=(0,l.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var h=a(94520),x=a(6648),p=a(37974);let m=(0,l.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),u=(0,l.A)("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),g=(0,l.A)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),y=(0,l.A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),b=(0,l.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var v=a(21956);let j=(0,l.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var f=a(71043),w=a(11891);function N({images:e,onImagesChange:t,title:a="Gallery Manager",folder:l="gallery",isAdmin:n=!1,categories:o=[],designers:c=[]}){let[h,N]=(0,s.useState)(new Set),[k,A]=(0,s.useState)("grid"),[C,S]=(0,s.useState)(""),[M,z]=(0,s.useState)(""),[q,D]=(0,s.useState)(""),[P,E]=(0,s.useState)("date"),[_,G]=(0,s.useState)("desc"),[I,O]=(0,s.useState)(!1),[T,U]=(0,s.useState)(!1),$=(0,s.useRef)(null),F=e.filter(e=>!(!T&&e.name.startsWith("_hidden_"))&&(!C||!!e.name.toLowerCase().includes(C.toLowerCase()))&&(!M||e.category===M)&&(!q||e.designer===q)).sort((e,t)=>{let a=0;switch(P){case"name":a=e.name.localeCompare(t.name);break;case"date":a=new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();break;case"category":a=e.category.localeCompare(t.category);break;case"designer":a=e.designer.localeCompare(t.designer)}return"asc"===_?a:-a}),V=e=>{let t=new Set(h);t.has(e)?t.delete(e):t.add(e),N(t)},H=(0,s.useCallback)(async a=>{if(!a.length||!n)return;O(!0);let r=Array.from(a).map(async(e,t)=>{let a=new FormData;a.append("file",e),a.append("folder",l);try{let t=await fetch("/api/imagekit/upload",{method:"POST",body:a});if(t.ok){let a=await t.json();return{id:a.fileId,url:a.url,name:e.name.replace(/\.[^/.]+$/,""),category:"Gallery",designer:"collective",createdAt:new Date}}throw Error("Upload failed")}catch(e){return console.error("Upload error:",e),null}}),s=(await Promise.all(r)).filter(Boolean);s.length>0&&t([...e,...s]),O(!1)},[e,t,l,n]),L=async()=>{if(!n||0===h.size)return;let a=e.filter(e=>h.has(e.id));try{await Promise.all(a.map(async e=>(await fetch("/api/imagekit/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.url})})).ok)),t(e.filter(e=>!h.has(e.id))),N(new Set)}catch(e){console.error("Bulk delete error:",e)}},W=a=>{n&&0!==h.size&&(t(e.map(e=>h.has(e.id)?{...e,category:a}:e)),N(new Set))};return(0,r.jsxs)("div",{className:"w-full bg-gray-900 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:a}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-400",children:[F.length," images",h.size>0&&` (${h.size} selected)`]}),n&&(0,r.jsxs)("button",{onClick:()=>$.current?.click(),disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[(0,r.jsx)(d.A,{size:16}),I?"Uploading...":"Upload"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6 p-4 bg-gray-800 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-1 min-w-64",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search images...",value:C,onChange:e=>S(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none"})]})}),(0,r.jsxs)("select",{value:M,onChange:e=>z(e.target.value),className:"px-3 py-2 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,r.jsx)("option",{value:"",children:"All Categories"}),o.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{value:q,onChange:e=>D(e.target.value),className:"px-3 py-2 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,r.jsx)("option",{value:"",children:"All Designers"}),c.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{value:P,onChange:e=>E(e.target.value),className:"px-3 py-2 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,r.jsx)("option",{value:"date",children:"Date"}),(0,r.jsx)("option",{value:"name",children:"Name"}),(0,r.jsx)("option",{value:"category",children:"Category"}),(0,r.jsx)("option",{value:"designer",children:"Designer"})]}),(0,r.jsx)("button",{onClick:()=>G("asc"===_?"desc":"asc"),className:"p-2 bg-gray-700 text-white rounded-lg border border-gray-600 hover:bg-gray-600 transition-colors",children:"asc"===_?(0,r.jsx)(u,{size:16}):(0,r.jsx)(g,{size:16})})]}),(0,r.jsxs)("div",{className:"flex items-center bg-gray-700 rounded-lg border border-gray-600",children:[(0,r.jsx)("button",{onClick:()=>A("grid"),className:(0,f.cn)("p-2 transition-colors","grid"===k?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:(0,r.jsx)(y,{size:16})}),(0,r.jsx)("button",{onClick:()=>A("list"),className:(0,f.cn)("p-2 transition-colors","list"===k?"bg-blue-600 text-white":"text-gray-400 hover:text-white"),children:(0,r.jsx)(b,{size:16})})]}),(0,r.jsxs)("button",{onClick:()=>U(!T),className:(0,f.cn)("flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors",T?"bg-blue-600 text-white border-blue-500":"bg-gray-700 text-gray-400 border-gray-600 hover:text-white"),children:[T?(0,r.jsx)(v.A,{size:16}):(0,r.jsx)(j,{size:16}),"Hidden"]})]}),n&&h.size>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4 p-3 bg-blue-900/50 rounded-lg border border-blue-700",children:[(0,r.jsxs)("span",{className:"text-sm text-blue-200 mr-4",children:[h.size," selected"]}),(0,r.jsx)("button",{onClick:()=>{h.size===F.length?N(new Set):N(new Set(F.map(e=>e.id)))},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:h.size===F.length?"Deselect All":"Select All"}),(0,r.jsx)("button",{onClick:L,className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Delete"}),(0,r.jsx)("button",{onClick:()=>{n&&0!==h.size&&(t(e.map(e=>h.has(e.id)?{...e,name:e.name.startsWith("_hidden_")?e.name.slice(8):`_hidden_${e.name}`}:e)),N(new Set))},className:"px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700 transition-colors",children:"Toggle Hidden"}),(0,r.jsxs)("select",{onChange:e=>e.target.value&&W(e.target.value),className:"px-2 py-1 bg-gray-700 text-white text-sm rounded border border-gray-600",defaultValue:"",children:[(0,r.jsx)("option",{value:"",children:"Change Category"}),o.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsx)("div",{className:(0,f.cn)("grid gap-4","grid"===k?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-1"),children:(0,r.jsx)(x.N,{children:F.map(e=>(0,r.jsx)(i.P.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:(0,f.cn)("relative group bg-gray-800 rounded-lg overflow-hidden",h.has(e.id)&&"ring-2 ring-blue-500","list"===k&&"flex items-center p-4"),children:"grid"===k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative aspect-square",children:[(0,r.jsx)(p.A,{src:(0,w.Nu)(e.url,{width:200,height:200,quality:85,format:"webp"}),alt:e.name,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 20vw"}),n&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,r.jsx)("input",{type:"checkbox",checked:h.has(e.id),onChange:()=>V(e.id),className:"w-5 h-5"})}),e.name.startsWith("_hidden_")&&(0,r.jsx)("div",{className:"absolute top-2 left-2 px-2 py-1 bg-red-600 text-white text-xs rounded",children:"Hidden"})]}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:e.category}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.designer})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-16 h-16 relative rounded overflow-hidden flex-shrink-0",children:(0,r.jsx)(p.A,{src:(0,w.Nu)(e.url,{width:64,height:64,quality:85,format:"webp"}),alt:e.name,fill:!0,className:"object-cover",sizes:"64px"})}),(0,r.jsxs)("div",{className:"flex-1 ml-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:[e.category," • ",e.designer]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),n&&(0,r.jsx)("input",{type:"checkbox",checked:h.has(e.id),onChange:()=>V(e.id),className:"w-5 h-5"})]})},e.id))})}),0===F.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDDBC️"}),(0,r.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"No images found"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Try adjusting your search or filters"})]}),(0,r.jsx)("input",{ref:$,type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=e.target.files;t&&H(t)},className:"hidden"})]})}var k=a(18741);let A=(0,l.A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var C=a(49656);function S({images:e,onImagesChange:t,className:a,title:l,folder:n="gallery",maxItems:o,isAdmin:c=!1}){let[h,m]=(0,s.useState)(!1),[u,g]=(0,s.useState)(null),[y,b]=(0,s.useState)(null),[v,j]=(0,s.useState)(""),N=(0,s.useRef)(null),S=o?e.slice(0,o):e,M=(0,s.useCallback)(async a=>{if(!a.length||!c)return;m(!0);let r=Array.from(a).map(async e=>{let t=new FormData;t.append("file",e),t.append("folder",n);try{let a=await fetch("/api/imagekit/upload",{method:"POST",body:t});if(a.ok){let t=await a.json();return{id:t.fileId,url:t.url,name:e.name.replace(/\.[^/.]+$/,""),category:"Gallery",designer:"collective",createdAt:new Date}}throw Error("Upload failed")}catch(e){return console.error("Upload error:",e),null}}),s=(await Promise.all(r)).filter(Boolean);s.length>0&&t([...e,...s]),m(!1)},[e,t,n,c]),z=async(a,r)=>{if(c)try{(await fetch("/api/imagekit/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r})})).ok&&t(e.filter(e=>e.id!==a))}catch(e){console.error("Delete error:",e)}},q=e=>{c&&g(e)},D=e=>{e.preventDefault()},P=(a,r)=>{if(a.preventDefault(),!c||null===u)return;let s=[...e],i=s[u];s.splice(u,1),s.splice(r,0,i),t(s),g(null)},E=(e,t)=>{c&&(b(e),j(t))},_=()=>{y&&(t(e.map(e=>e.id===y?{...e,name:v}:e)),b(null),j(""))};return(0,r.jsxs)("div",{className:(0,f.cn)("w-full",a),children:[l&&(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-white",children:l}),c&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-400",children:[e.length," ",1===e.length?"image":"images"]}),(0,r.jsxs)("button",{onClick:()=>N.current?.click(),disabled:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[(0,r.jsx)(k.A,{size:16}),"Add Images"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(x.N,{children:S.map((e,t)=>(0,r.jsxs)(i.P.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"relative group",draggable:c,onDragStart:()=>q(t),onDragOver:D,onDrop:e=>P(e,t),children:[(0,r.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-900",children:[(0,r.jsx)(p.A,{src:(0,w.Nu)(e.url,{width:300,height:300,quality:85,format:"webp"}),alt:e.name,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw"}),c&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>E(e.id,e.name),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Edit name",children:(0,r.jsx)(A,{size:16})}),(0,r.jsx)("button",{onClick:()=>z(e.id,e.url),className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Delete image",children:(0,r.jsx)(C.A,{size:16})})]})}),c&&u===t&&(0,r.jsx)("div",{className:"absolute inset-0 bg-blue-500/30 border-2 border-blue-500 border-dashed rounded-lg"})]}),(0,r.jsx)("div",{className:"mt-2",children:y===e.id?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),className:"flex-1 px-2 py-1 text-sm bg-gray-800 text-white border border-gray-600 rounded",onKeyDown:e=>{"Enter"===e.key&&_(),"Escape"===e.key&&(b(null),j(""))},autoFocus:!0}),(0,r.jsx)("button",{onClick:_,className:"px-2 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Save"})]}):(0,r.jsx)("p",{className:"text-sm text-gray-400 truncate",children:e.name})})]},e.id))}),c&&(0,r.jsx)(i.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"relative aspect-square border-2 border-dashed border-gray-600 rounded-lg hover:border-gray-400 transition-colors cursor-pointer group",onClick:()=>N.current?.click(),children:(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 group-hover:text-gray-300",children:h?(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-gray-400 border-t-white rounded-full"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{size:32,className:"mb-2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Add Images"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Click or drag files"})]})})})]}),(0,r.jsx)("input",{ref:N,type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=e.target.files;t&&M(t)},className:"hidden"}),o&&e.length>o&&(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("span",{className:"text-sm text-gray-400",children:["Showing ",o," of ",e.length," images"]})})]})}let M=[{id:"homepage-hero",name:"Homepage Hero",description:"Main hero section images"},{id:"visual-art",name:"Visual Art",description:"Visual art portfolio images"},{id:"collective",name:"Collective",description:"Collective portfolio images"},{id:"fashion-film",name:"Fashion Film",description:"Fashion film thumbnails and images"},{id:"installation",name:"Installation",description:"Installation art images"},{id:"memory",name:"Memory",description:"Memory project images"},{id:"designer-profiles",name:"Designer Profiles",description:"Individual designer portfolio images"},{id:"about-showcase",name:"About Showcase",description:"About section showcase images"},{id:"general",name:"General Gallery",description:"General purpose images"}],z=["collective","hwangjinsu","choieunsol","parkparang","leetaehyeon","kimbomin","kimgyeongsu"],q=["Gallery","Portfolio","Cinema","Personal","Visual Art","Fashion Film","Installation","Memory","Collective"];function D(){let{user:e,loading:t}=function(){let[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0);return{user:e,loading:a,login:async(e,a)=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})});if(r.ok){let e=await r.json();return t(e.user),!0}return!1}catch(e){return console.error("Login failed:",e),!1}},logout:()=>{t(null)}}}(),[a,l]=(0,s.useState)("homepage-hero"),[x,p]=(0,s.useState)({}),[m,u]=(0,s.useState)(!0),[g,y]=(0,s.useState)({totalImages:0,totalGalleries:0,totalSize:0}),b=(e,t)=>{p(a=>({...a,[e]:t}));let a=Object.values({...x,[e]:t}).reduce((e,t)=>e+t.length,0);y(e=>({...e,totalImages:a}))},v=M.find(e=>e.id===a);return t||m?(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-white border-t-transparent rounded-full"})}):(0,r.jsx)("div",{className:"min-h-screen bg-black text-white",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Gallery Management"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Manage all gallery images across the Redux website"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Images"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:g.totalImages})]}),(0,r.jsx)(NoOptImageIcon,{className:"w-8 h-8 text-blue-500"})]})}),(0,r.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Galleries"}),(0,r.jsx)("p",{className:"text-2xl font-bold",children:g.totalGalleries})]}),(0,r.jsx)(n,{className:"w-8 h-8 text-green-500"})]})}),(0,r.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Storage Used"}),(0,r.jsxs)("p",{className:"text-2xl font-bold",children:[(g.totalSize/1024/1024).toFixed(1)," MB"]})]}),(0,r.jsx)(o,{className:"w-8 h-8 text-purple-500"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Gallery Categories"}),(0,r.jsx)("div",{className:"space-y-2",children:M.map(e=>(0,r.jsxs)("button",{onClick:()=>l(e.id),className:(0,f.cn)("w-full text-left p-3 rounded-lg transition-colors",a===e.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.description}),(0,r.jsxs)("div",{className:"text-xs mt-1",children:[x[e.id]?.length||0," images"]})]},e.id))})]})}),(0,r.jsx)("div",{className:"lg:col-span-3",children:v&&(0,r.jsxs)(i.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:v.name}),(0,r.jsx)("p",{className:"text-gray-400",children:v.description})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-full",children:[x[a]?.length||0," images"]})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,r.jsx)(d.A,{size:16}),"Bulk Upload"]}),(0,r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[(0,r.jsx)(c,{size:16}),"Export"]}),(0,r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[(0,r.jsx)(h.A,{size:16}),"Settings"]})]})]}),(0,r.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:(0,r.jsx)(N,{images:x[a]||[],onImagesChange:e=>b(a,e),title:"",folder:a,isAdmin:!0,categories:q,designers:z})}),(0,r.jsx)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:(0,r.jsx)(S,{images:x[a]||[],onImagesChange:e=>b(a,e),title:"Grid View",folder:a,isAdmin:!0})})]},a)})]})]})})}},37974:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(45512);function s({src:e,alt:t,className:a="",fill:s,width:i,height:l,style:n,onClick:o,onError:d,...c}){return s?(0,r.jsx)("img",{src:e,alt:t,className:`absolute inset-0 w-full h-full ${a}`,style:n,onClick:o,onError:d}):(0,r.jsx)("img",{src:e,alt:t,width:i,height:l,className:a,style:n,onClick:o,onError:d})}},11891:(e,t,a)=>{"use strict";a.d(t,{Nu:()=>l});var r=a(2783),s=a.n(r);let i={publicKey:"public_2BXoL4/MDWL0GjI21rq6iIG1TF8=",urlEndpoint:"https://ik.imagekit.io/t914"};function l(e,t){if(e.startsWith("http")||e.startsWith("data:"))return e;let a=`${i.urlEndpoint}${e.startsWith("/")?e:`/${e}`}`;if(t){let e=new URLSearchParams;t.width&&e.append("tr",`w-${t.width}`),t.height&&e.append("tr",`h-${t.height}`),t.quality&&e.append("tr",`q-${t.quality}`),t.format&&e.append("tr",`f-${t.format}`),t.crop&&e.append("tr",`c-${t.crop}`),t.focus&&e.append("tr",`fo-${t.focus}`),e.toString()&&(a+=`?${e.toString()}`)}return a}new(s())({publicKey:i.publicKey,privateKey:process.env.IMAGEKIT_PRIVATE_KEY,urlEndpoint:i.urlEndpoint})},26260:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/mnt/c/Users/t9140/OneDrive/바탕 화면/redux6-final/src/app/admin/gallery/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/mnt/c/Users/t9140/OneDrive/바탕 화면/redux6-final/src/app/admin/gallery/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,593,783,8],()=>a(74405));module.exports=r})();